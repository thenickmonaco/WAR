<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Functions of type PaStreamCallback are implemented by PortAudio clients. They consume, process or generate audio in response to requests from an active PortAudio stream."><title>PaStreamCallback in portaudio_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="portaudio_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09) (Arch Linux rust 1:1.87.0-2)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../static.files/storage-82c7156e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../portaudio_sys/index.html">portaudio_<wbr>sys</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">PaStream<wbr>Callback</a></h2><h3><a href="#aliased-type">Aliased Type</a></h3><h3><a href="#variants">Variants</a></h3><ul class="block variant"><li><a href="#variant.None" title="None">None</a></li><li><a href="#variant.Some" title="Some">Some</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate portaudio_<wbr>sys</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">portaudio_sys</a></div><h1>Type Alias <span class="type">PaStreamCallback</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/portaudio_sys/portaudio.rs.html#848-861">Source</a> </span></div><pre class="rust item-decl"><code>pub type PaStreamCallback = <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;unsafe extern &quot;C&quot; <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.fn.html">fn</a>(input: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="type" href="https://doc.rust-lang.org/1.87.0/std/os/raw/type.c_void.html" title="type std::os::raw::c_void">c_void</a>, output: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="type" href="https://doc.rust-lang.org/1.87.0/std/os/raw/type.c_void.html" title="type std::os::raw::c_void">c_void</a>, frameCount: <a class="type" href="https://doc.rust-lang.org/1.87.0/std/os/raw/type.c_ulong.html" title="type std::os::raw::c_ulong">c_ulong</a>, timeInfo: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="struct" href="struct.PaStreamCallbackTimeInfo.html" title="struct portaudio_sys::PaStreamCallbackTimeInfo">PaStreamCallbackTimeInfo</a>, statusFlags: <a class="type" href="type.PaStreamCallbackFlags.html" title="type portaudio_sys::PaStreamCallbackFlags">PaStreamCallbackFlags</a>, userData: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="type" href="https://doc.rust-lang.org/1.87.0/std/os/raw/type.c_void.html" title="type std::os::raw::c_void">c_void</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.87.0/std/os/raw/type.c_int.html" title="type std::os::raw::c_int">c_int</a>&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Functions of type PaStreamCallback are implemented by PortAudio clients.
They consume, process or generate audio in response to requests from an
active PortAudio stream.</p>
<p>When a stream is running, PortAudio calls the stream callback periodically.
The callback function is responsible for processing buffers of audio samples
passed via the input and output parameters.</p>
<p>The PortAudio stream callback runs at very high or real-time priority.
It is required to consistently meet its time deadlines. Do not allocate
memory, access the file system, call library functions or call other functions
from the stream callback that may block or take an unpredictable amount of
time to complete.</p>
<p>In order for a stream to maintain glitch-free operation the callback
must consume and return audio data faster than it is recorded and/or
played. PortAudio anticipates that each callback invocation may execute for
a duration approaching the duration of frameCount audio frames at the stream
sample rate. It is reasonable to expect to be able to utilise 70% or more of
the available CPU time in the PortAudio callback. However, due to buffer size
adaption and other factors, not all host APIs are able to guarantee audio
stability under heavy CPU load with arbitrary fixed callback buffer sizes.
When high callback CPU utilisation is required the most robust behavior
can be achieved by using paFramesPerBufferUnspecified as the
Pa_OpenStream() framesPerBuffer parameter.</p>
<p>@param input and @param output are either arrays of interleaved samples or;
if non-interleaved samples were requested using the paNonInterleaved sample
format flag, an array of buffer pointers, one non-interleaved buffer for
each channel.</p>
<p>The format, packing and number of channels used by the buffers are
determined by parameters to Pa_OpenStream().</p>
<p>@param frameCount The number of sample frames to be processed by
the stream callback.</p>
<p>@param timeInfo Timestamps indicating the ADC capture time of the first sample
in the input buffer, the DAC output time of the first sample in the output buffer
and the time the callback was invoked.
See PaStreamCallbackTimeInfo and Pa_GetStreamTime()</p>
<p>@param statusFlags Flags indicating whether input and/or output buffers
have been inserted or will be dropped to overcome underflow or overflow
conditions.</p>
<p>@param userData The value of a user supplied pointer passed to
Pa_OpenStream() intended for storing synthesis data etc.</p>
<p>@return
The stream callback should return one of the values in the
::PaStreamCallbackResult enumeration. To ensure that the callback continues
to be called, it should return paContinue (0). Either paComplete or paAbort
can be returned to finish stream processing, after either of these values is
returned the callback will not be called again. If paAbort is returned the
stream will finish as soon as possible. If paComplete is returned, the stream
will continue until all buffers generated by the callback have been played.
This may be useful in applications such as soundfile players where a specific
duration of output is required. However, it is not necessary to utilize this
mechanism as Pa_StopStream(), Pa_AbortStream() or Pa_CloseStream() can also
be used to stop the stream. The callback must always fill the entire output
buffer irrespective of its return value.</p>
<p>@see Pa_OpenStream, Pa_OpenDefaultStream</p>
<p>@note With the exception of Pa_GetStreamCpuLoad() it is not permissible to call
PortAudio API functions from within the stream callback.</p>
</div></details><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">ยง</a></h2><pre class="rust item-decl"><code>enum PaStreamCallback {
    None,
    Some(unsafe extern &quot;C&quot; <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.fn.html">fn</a>(_: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="enum" href="https://doc.rust-lang.org/1.87.0/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.87.0/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.u64.html">u64</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="struct" href="struct.PaStreamCallbackTimeInfo.html" title="struct portaudio_sys::PaStreamCallbackTimeInfo">PaStreamCallbackTimeInfo</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.u64.html">u64</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.87.0/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.i32.html">i32</a>),
}</code></pre><h2 id="variants" class="variants section-header">Variants<a href="#variants" class="anchor">ยง</a></h2><div class="variants"><section id="variant.None" class="variant"><a href="#variant.None" class="anchor">ยง</a><span class="since rightside" title="Stable since Rust version 1.0.0">1.0.0</span><h3 class="code-header">None</h3></section><div class="docblock"><p>No value.</p>
</div><section id="variant.Some" class="variant"><a href="#variant.Some" class="anchor">ยง</a><span class="since rightside" title="Stable since Rust version 1.0.0">1.0.0</span><h3 class="code-header">Some(unsafe extern &quot;C&quot; <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.fn.html">fn</a>(_: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="enum" href="https://doc.rust-lang.org/1.87.0/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.87.0/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.u64.html">u64</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*const </a><a class="struct" href="struct.PaStreamCallbackTimeInfo.html" title="struct portaudio_sys::PaStreamCallbackTimeInfo">PaStreamCallbackTimeInfo</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.u64.html">u64</a>, _: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.87.0/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.i32.html">i32</a>)</h3></section><div class="docblock"><p>Some value of type <code>T</code>.</p>
</div></div><script src="../type.impl/core/option/enum.Option.js" data-self-path="portaudio_sys::portaudio::PaStreamCallback" async></script></section></div></main></body></html>